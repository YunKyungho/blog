비잔틴 내결함성이란 블록체인뿐만 아니라 모든 탈중앙화 시스템에서도 중요한 특성이다.

보통 비잔틴 내결함성을 설명할 때 비잔틴 제국의 이야기로 예시를 들고있다.(실화는 아니고 가정된 상황이라고 한다.)
  
---

전쟁 중인 비잔틴 제국이 있고 제국에는 4명의 장군이 있으며 싸울지 후퇴할지 이 4명의 장군들의 합의를 통해 결정한다.

합의가 잘 되어 싸우거나 후퇴하거나 행동을 정할 수 있다면 좋겠지만 의견이 통합되지 않아 혼란을 겪을 수도 있다.

또한 4명 중 1명은 지휘관이며 누군지모를 1명의 배신자도 존재한다. 사령관도 배신자일 수 있으며 배신자는 의견이 통합되지 않도록 막는 역할을 한다. 이들은 본인을 제외한 셋 중 누가 배신자인지 모르기에 누구를 믿어야할지 알 수 없는 상황이다.
  
위와 같은 상황에서 가장 합리적인 방법은 모두가 사전에 동의한 합의 알고리즘을 따르는 방법일 것이다.

서로가 구두로만 의사소통을 할 수 있다는 가정을 하고 이 알고리즘을 어떤 방식으로 구현해야할까?

---

사실 크게 어려울건 없다.
  
지휘관이 배신자가 아니라고 가정을 하고 3명의 장군에게 명령을 내렸을 때 3명의 장군들을 서로가 받은 명령을 확인하고 다수결에 따라 행동을 하는 것이다.
  
![[images/Blockchain/5.png]]

지휘관이 먼저 명령을 내린 뒤

![[images/Blockchain/6.png]]

서로에게 지휘관으로 부터 받은 명령을 확인 해본다. (빨간 화살표가 배신자가 보내는 반대 정보.)
 
이렇게되면 배신자가 지휘관의 명령에 반대되는 명령을 받았다고 주장하더라도 지휘관의 명령과 배신자가 아닌 다른 장군이 주장하는 명령에 의해 다수결로 합의가 가능하다. (검은 화살표 2개, 빨간 화살표 1개)
  
그렇게 배신자의 주장은 다수결로 묵살되고 지휘관이 내린 명령을 정확하게 하달받아 올바른 행동이 가능해진다.

이는 지휘관이 배신자라고 가정한 뒤 시행해도 결국에는 다수결로 의견이 통합되어 합의가 되고 정확한 행동을 할 수 있게 된다.

---

위 같은 내용을 비잔틴 내결함성이라고 한다. 다만 배신자가 총 인원의 33프로 이하여야만 정확한 합의가 가능한 알고리즘이다. 
  
이 개념은 탈중앙화 시스템이나 블록체인 외의 다른 분야에서도 널리 사용되고 있는 개념이라고 한다.

블록체인 역시 시스템을 공격하려는 사람들을 대비하여 합의 프로토콜을 만들어야만 하며 비잔틴 내결함성을 어떤 방식으로 블록체인에 적용하고 있는지는 다음 글에서 알아볼 것이다.