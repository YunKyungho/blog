코드를 작성할 때 원본 파일에만 작성을 하는 것 보다 복사본을 만들어둔 뒤 그곳에 작성을 하는 것이 위험 부담이 적을 것이다. 그럴 때 사용하는 것이 branch이다.

  

공부하다 좋은 사이트를 찾아 공유한다.

https://backlog.com/git-tutorial/kr/intro/intro1_1.html

---
#### Branch

  

git branch 브랜치명

branch를 만드는 명령어는 간단하다.

  

![](images/Git/26.png)

git switch  브랜치명

위 명령어로 branch를 옮길 수 있으며 git switch 입력 후 tab키를 누르면 사용 가능한 브렌치 목록이 보인다.

괄호안에 어떤 브랜치에 위치하는지 보여주고 있으나 이 기능이 없는 터미널 같은 경우

  

git status 명령어 입력시에 아래 사진 처럼 어떤 브랜치인지 확인 가능하다.

![](images/Git/27.png)

  

![](images/Git/28.png)

branch를 옮긴 상태에서 아무 파일이나 만들어주고 commit 해주면

스냅샷 처럼 testBranch라는 분기점이 하나 생기고

  

![](images/Git/29.png)

위 사진 처럼 testBranch에는 branchTest1.txt 파일이 존재하지만 master에는 해당 파일이 존재하지 않은 상태가 된다.

이 상태에서 testBranch에서는 branchTest1.txt를 수정하고 master에서는 아무 파일이나 수정하고 다 commit 시켜 놓자.

  

그런 다음

![](images/Git/30.png)

git log --oneline --all --graph

명령어를 입력하면 위 처럼 그래프 형식으로 commit 했던 내역들을 나눠진 branch 까지 보여준다.\

(HEAD는 그냥 현재 branch 위치다.)

  

이렇게 나눠진 branch에서 작업을 하다가 branchTest에서의 기능구현 및 테스트가 완료되고 다시 master branch에 합쳐야 싶다면 merge를 하면 된다.

  

---

#### Merge

  

merge를 위해서는 기준이 되는 branch로 이동해야 된다. 지금은 master가 기준이 되겠다.

  

git switch "기준 브랜치명"

git merge "머지할 브랜치"

위 명령어를 입력하면 분기점이 끝나면서 branch가 합쳐지게 되는데

  

두 브렌치에서 각각 다른 파일의 다른 내용을 수정 했다면 충돌 나지 않고 잘 합쳐진다.

그런데 각각의 브랜치에서 같은 파일의 같은 라인을 수정했다면 충돌이 발생하게 된다.

![](images/Git/31.png)

이렇게 말이다. 그리고 위에 기재된 test.txt 파일을 열어보면
![[32.png|200]]

이런 내용들이 막 적혀져있다.

(나는 서로 다른 파일만 수정했는데 왜 이렇게 됬는지는 모르겠다. 아마 기존 라인 하단부 부터 수정한 것이 아닌 가운데 텍스트를 추가했기에 어떤 파일을 기준으로 merge 해야 될지 몰라 그런건가 싶다. ~~유도리 없네~~)

  

아무튼 이렇게 충돌이 났을 때 해결법은

![[33.png|200]]

이렇게 파일을 원하는 내용만 남기고 저장한 다음

  

![](images/Git/34.png)

add하고 commit 하면 된다.

(수동으로 해야된다. 한번 충돌나면 골치아픈 상황인 것 같으니 애초에 잘 관리해야 될 것 같다.)

  

![](images/Git/35.png)

다시 한번 로그를 확인 해보면 잘 branch가 합쳐진 것으로 보여진다.