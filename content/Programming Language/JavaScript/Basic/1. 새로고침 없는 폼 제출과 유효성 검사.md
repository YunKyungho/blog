
내가 강의에서 기존에 배웠던 form submit은 버튼을 누르거나 input을 전부 채운 후 엔터 키를 눌렀을 때 form을 제출하고 브라우저가 새로고침 되는 방식이였다.

```html
<form onsubmit="Js함수(this);" action="스프링 컨트롤러 주소">
	<input placeholder="id" name="id">
	<input placeholder="pw" name="pw">
	<button>입력</button>
</form>
```

대략 이런 느낌이였다. 그리고 유효성 검사는

```jsx
function 함수명(e){
	var id = e.id;
	var pw = e.pw;

	if(조건 || 조건){
		return false;
	}
	return true;
}
```

이런식이었다.

그런데 회원가입 같은 경우 보통의 사이트들이 가입 양식을 제출한 다음 다른 화면으로 전환이 되지 않았던가 하는 생각이든다. 회원가입을 위한 기능은 아니지 싶은데 아무튼

```jsx
//event라고 써놓은 곳을 Js에선 argument 라고 부르며 event라고 적는게 관행이란다.
function onLoginSubmit(event){ 
// 이게 html에서 어떤 이벤트가 발생했을 때 브라우저가 기본적으로 실행하는 행위를 막아준단다.
event.preventDefault();
}

document로_찾아놓은_태그.addEventListener("submit", onLoginSubmit);
// submit 또한 하나의 event이며 기본 행동 중 하나가 새로고침.
```

이런식의 개념이었다.

아 그리고 새롭게 알게된 것이 입력 유효성 검사 시에 값을 채웠는지를 확인하기 위한 절차가 있었는데 input 태그 attribute 중에 required가 같은 기능을 한단다. 근데 아직 검증은 못 해봤다.

```jsx
<input required> // 그냥 이렇게만 써주면 된다.
```

<aside>
💡 JavaScript에서도 printf 같은 녀석이 있다는 것을 알아냈다. 기존에 변수와 String을 더하기 위해서이용하던 방식은 + 를 중간 중간 위치에 맞게 넣어주는 것도 불편하고 간격을 변수와 변수간의 더하기일 경우 변수 + “ “ + 변수 이런식이었는데 매우 불편했다.
나만 불편한게 아니었는지 누군가 만들었나본데 바로 ` ` 이 백틱이란 것을 이용하면 된다.
 ‘ ‘ 나 “ “ 랑은 다르다 ` `를 이용해주어야 한다.

</aside>

```jsx
let anyText = "환영합니다";
let likePrintf = `제 Node에 오신 것을 ${anyText}`;
// 이런식으로 사용이 가능하다.
//JSP에서 attribute나 parameter를 가져올 때 쓰던 문법이기에 어색하지도 않다.
```

---

그리고 localStorage라는 브라우저에 내장된 미니 DB 같은 것을 알게됬는데 이용 방법은 참 간단했다. 

```jsx
localStorage.setItem("키", "값"); //이렇게 값을 셋팅할 수 있고
localStorage.getItem("키"); // 이렇게 값을 불러올 수 있다.
```

이용 방법은 Java의 Map과 비슷한걸 보니 정말 DB로써의 기능으로는 아마 못쓸 것 같다.

<aside>
💡 검색 해보니 실제로 Map과 유사한 것은 맞으나 key(index)로 키 값에 접근할 수 있다고 한다. 동일한 키를 가진 값 여러개가 있을 때 그 값을 집어올 수는 있겠으나 그래봤자 DB를 대체하기에는 많이 역부족이다.

</aside>

내가 보고있는 강의 내용에 의하면 저 localStorage에 유저가 입력한 아이디를 저장해두고 그 아이디 값이 localStorage에 있다면 login form을 display : none; 처리를 해준 다음 유저에게 인사를 하는 h1이 나오게끔 설계가 되어있는데 (당연히 간단한 예시를 위해 사용한 방법이겠지만) 그러면 유저 정보 자체가 localStorage에 저장되기에 보안성이 너무 떨어지는게 아닐까 싶었다.

그럼 이 localStorage는 도대체 어디에 쓰이는거지? 하는 생각이 들어 한번 찾아보니

[Vue & Axios | 새로고침 시 로그인 해제 방지 | Local Storage](https://www.youtube.com/watch?v=80lzbBFNIZw)

login 시 유저의 정보를 직접적으로 저장하는게 아닌 토큰을 발행하여 localStorage에 저장을 해놨다가 새로고침 등을 했을 때 이 저장되어있던 토큰 값을 통해서 유저의 정보를 불러오게끔 해서 로그인 해제를 방지하는 식으로 이용을 하는 듯 보였다.

그런데 이렇게 해도 토큰 값만 있으면 유저 정보를 불러올 수 있으니 도찐개찐 아닌가 하고 생각해보니 홈페이지를 나가거나 로그 아웃을 할 때 (removeItem이나 clear로) 토큰만 삭제 해주면 되는거니 상관 없을 듯 했다.

Spring으로 웹사이트를 설계할 때의 기존 로그인 시스템은 로그인 할 때 세션을 만들어두고 페이지 이동이나 새로고침 등 이용자로 부터 어떤 요청이 있을 때 계속 해서 세션을 조회 했던 방법이었는데 위의 기능을 이용하면 정말 중요한 요청을 하는 것(회원 정보 수정, 글 작성, 글 삭제 등) 외의 새로고침이나 간단한 페이지 이동 등을 하는 작업엔  훨씬 더 웹 서버의 부담이 덜 될 것 같다라는 생각이 든다. 그런데 웹 서버의 부담을 줄이기 위해서 나온 시스템이기 보단 Vue 쪽에서 로그인 관리를 하기 위해서 만든 기능 같다.

이에 대한 궁금증이 생겼다면

[쿠키 vs 세션 vs 웹 스토리지(로컬 스토리지, 세션 스토리지)](https://doqtqu.tistory.com/306)

이 사이트를 참고하면 좋을 것 같다.