# 블록체인 동시성

**블록체인 동시성(Concurrency in Blockchain)**은 [[블록체인]] 시스템에서 여러 트랜잭션이나 연산을 동시에 처리하는 기술이다.

## 필요성

블록체인의 확장성 한계를 극복하기 위해 병렬 처리 필수:
- 순차 실행은 TPS(초당 트랜잭션) 제한
- [[스마트 컨트랙트]] 실행의 병목 해소
- 검증자/채굴자의 효율적 자원 활용

## 동시성 수준

### 1. 트랜잭션 수준
- 독립적인 트랜잭션들의 병렬 실행
- 충돌 없는 트랜잭션 식별 필요

### 2. 블록 수준
- 샤딩을 통한 여러 블록 동시 생성
- 크로스샤드 트랜잭션 처리가 과제

### 3. 컨트랙트 수준
- 단일 스마트 컨트랙트 내 병렬 실행
- 상태 접근 패턴 분석 필요

## 핵심 개념

### 충돌(Conflict)
- 두 트랜잭션이 같은 상태에 접근 (읽기-쓰기, 쓰기-쓰기)
- 충돌하는 트랜잭션은 순차 실행 필요

### 결정론적 실행
- 모든 노드가 동일한 결과 도출 필수
- 병렬 실행 순서의 결정론적 정의

### 낙관적 vs 비관적 동시성 제어
- **낙관적**: 먼저 실행 후 충돌 시 롤백
- **비관적**: 사전에 잠금(lock) 획득

## 대표 시스템

- **Solana**: 사전 상태 선언으로 병렬 실행
- **Sui/Aptos**: Move 언어의 리소스 모델 활용
- **PHANTOM/SPECTRE**: DAG 기반 병렬 블록 생성
