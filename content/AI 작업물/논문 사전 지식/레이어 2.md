# 레이어 2 (Layer 2)

**레이어 2**(L2)는 [[블록체인]]의 확장성 문제를 해결하기 위해 메인 체인(레이어 1) 위에 구축되는 보조 프레임워크이다.

## 핵심 개념

### 등장 배경
- 이더리움 등 메인넷의 처리량 한계 (약 15 TPS)
- 높은 가스비 문제
- 대량 거래 처리 필요

### 기본 원리
1. 대부분의 트랜잭션을 L2에서 처리
2. 최종 결과만 L1에 기록
3. L1의 보안성을 상속

## 주요 L2 솔루션

### 롤업 (Rollups)
수백~수천 개의 트랜잭션을 묶어서 L1에 제출

#### 옵티미스틱 롤업 (Optimistic Rollups)
- **가정**: 트랜잭션이 기본적으로 유효
- **검증**: 이의 제기 기간(보통 7일) 동안 사기 증명 제출 가능
- **예시**: Optimism, Arbitrum
- **장점**: EVM 호환, 구현 간단
- **단점**: 출금 지연

#### ZK 롤업 (Zero-Knowledge Rollups)
- **검증**: 영지식 증명으로 유효성 즉시 증명
- **예시**: zkSync, StarkNet, Polygon zkEVM
- **장점**: 빠른 최종성
- **단점**: 높은 계산 비용, EVM 호환 어려움

### 상태 채널 (State Channels)
- 두 당사자 간 오프체인 거래
- 최종 결과만 L1에 기록
- 예: Lightning Network (비트코인), Raiden (이더리움)

### 플라즈마 (Plasma)
- 하위 체인(child chain)에서 거래 처리
- 정기적으로 L1에 상태 커밋
- 대규모 데이터 처리에 적합

### 발리디움 (Validium)
- ZK 롤업과 유사하나 데이터를 오프체인에 저장
- 더 높은 처리량, 낮은 데이터 가용성

## 비교

| 솔루션 | 데이터 가용성 | 검증 방식 | 출금 시간 |
|--------|--------------|----------|----------|
| 옵티미스틱 롤업 | 온체인 | 사기 증명 | ~7일 |
| ZK 롤업 | 온체인 | 유효성 증명 | 즉시 |
| 플라즈마 | 오프체인 | 사기 증명 | ~7일 |
| 발리디움 | 오프체인 | 유효성 증명 | 즉시 |

## L2 생태계
- **Arbitrum**: 가장 큰 TVL (총 예치 가치)
- **Optimism**: OP Stack으로 L2 표준화 추진
- **Base**: Coinbase가 운영하는 L2
- **zkSync, StarkNet**: ZK 기반 솔루션

## 관련 개념
- [[블록체인]]
- [[스마트 컨트랙트]]
- [[합의 알고리즘]]
