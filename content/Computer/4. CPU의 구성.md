CPU는 메모리에 저장된 명령어를 읽고 해석하고 실행하는 장치다.이번엔 이 CPU의 구성에 대해 알아보자.

  

CPU의 구성은 크게 3가지로 나눌 수 있다.

1. ALU(Arithmetic Logic Unit) - 산술 논리 연산 장치
2. 제어장치
3. 레지스터

- **ALU**

산술 논리 장치, 말 그대로 계산을 담당하는 친구다.

  

- **제어장치**

메모리에서 값을 읽어오라거나 연산을 시키거나하는 여러 제어 신호를 보내는 장치다.

  

- **레지스터**

CPU 내부에 있는 작은 기억 장치다. 메모리가 있음에도 레지스터라는 별도의 기억 장치가 있는 이유는 어떤 값을 저장할 때 마다 메모리에 접근하는 것은 프로그램의 실행 속도를 늦출 수 있기 때문이다.

---

  

**목차**

1. **ALU**

2. **제어장치**

3. **레지스터**

---

#### **ALU**

ALU는 레지스터로부터 피연산자를 받고 제어장치로부터 제어 신호를 받아들여 산술 연산, 논리 연산과 같은 다양한 연산을 한다. 이것이 CPU의 기본 구조다.

  

ALU는 연산의 결괏값만 내보내는 것이 아닌 플래그를 같이 내보내기도 한다.

**플래그**란 '결괏값이 음수다', '결괏값이 레지스터보다 크다'와 같은 **결괏값에 대한 추가 정보**를 말한다.

그리고 이 플래그는 **플래그 레지스터**에 따로 저장된다.

> 플래그에는 여러 종류의 플래그가 있는데 궁금하면 찾아보자. 관련 포스팅이 있나 찾아봤지만 깔끔하게 정리된 내용은 없어서 가져오지 않았다.

---

#### **제어장치**

  

제어장치는 **제어 신호를 내보내고 명령어를 해석**하는 부품이다.

이 **제어 신호**는 컴퓨터 부품들을 관리하는 일종의 **전기 신호**이다.

  

제어장치는 매우 정교하게 설계된 부품이다. 제조사마다 제어장치의 구현 방식, 명령어의 해석 방식이 조금씩 차이가 난다.

CPU가 하는 일은 다음과 같다.

  

**받는 정보**

1. 클럭 신호를 받는다. 클럭은 컴퓨터의 시간 단위다.  
      
    
2. 명령어 레지스터에서 해석할 명령어를 받고 각 부품들에게 명령을 내린다.  
      
    
3. 플래그 레지스터로부터 플래그 값을 받는다.  
      
    
4. 입출력 장치가 발생한 제어 신호가 시스템 버스 중 제어 버스로 전달되고 제어장치가 제어 신호를 받는다.

**보내는 정보**

1. CPU 외부로 보내는 신호  
      
    제어 버스를 통해 제어 신호를 내보내고 이는 메모리, 입출력장치, 보조기억장치로 전달된다.  
      
    
2. CPU 내부로 보내는 신호  
      
    CPU 내부의 ALU, 레지스터에게 전달된다.

하는 일은 비슷하다. 값을 읽거나 쓰거나 연산을 명령 하기 위한 신호들이다.

---

#### **레지스터**

레지스터의 종류는 CPU 종류마다 다르며 그 종류가 많기에  
개발자로서 알아야할 레지스터에 대해서 간략하게 정리하고자 한다.

  

- 프로그램 카운터  
      
    다음으로 수행할 명령어의 주소를 저장 하는 레지스터.  
      
    
- 명령어 레지스터  
      
    제어장치가 해석할 명령어를 저장 함.  
      
    
- 메모리 주소 레지스터  
      
    CPU가 읽으려는 주소를 메모리에서 **주소 버스**로 가져올 때 거치는 레지스터.  
      
    
- 메모리 버퍼 레지스터  
      
    CPU가 정보(데이터, 명령어)를 **데이터 버스**로 주고 받을 때 거치는 레지스터.  
      
    

수행 순서로 감을 잡아보자.

  

1. **프로그램 카운터**에 있는 주소 값이 **메모리 주소 레지스터**로 **복사** 된다.

2. 제어 장치에서 **메모리 읽기 신호**를 제어 버스로, **메모리 주소 레지스터의 주소 값**을 주소 버스로 **메모리**에게 보낸다.

3. **메모리**에서 해당 주소에 저장된 값을 데이터 버스를 통해 **메모리 버퍼 레지스터**로 보낸다.

4. **프로그램 카운터**의 값을 **다음 수행할 주소 값으로 변경**한다.

5. **메모리 버퍼 레지스터**의 값을 **명령어 레지스터로 복사**한다.

6. **제어장치**가 **명령어 레지스터**의 값을 **사용**한다.

  

- 플래그 레지스터  
      
    연산 결과 또는 CPU 상태에 대한 부가적인 정보를 저장 함.(부모 플래그, 제로 플래그 같은 것들)  
      
    
- 범용 레지스터  
      
    다양하고 일반적인 상황에서 자유롭게 사용 함.  
      
    
- 스택 포인터  
      
    스택 주소 지정 방식에 사용되며 스택의 꼭대기를 가리키는 레지스터다.  
    스택이 얼마나 차 있는지에 대한 표시라고 볼 수 있다.  
      
    
- 베이스 레지스터  
      
    변위 주소 지정 방식에 사용되며 오퍼 랜드 필드의 값과 특정 레지스터의 값을 더하여 유효한 주소 값을 얻는다.  
    이 특정 레지스터가 프로그램 카운터(현재 위치가 기준)면 상대 주소 지정방식, 베이스 레지스터(고정된 주소)면 베이스 레지스터 주소 지정방식이 된다.